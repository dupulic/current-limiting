# current-limiting
场景三：限流
实现思路
通过用户ip限流，
数据库创建rd_request_count表分别
包含用户ip、
请求成功次数success_count、
失败次数failure_count、
是否拉入黑名单is_close 
1.通过自定义注解设置 【特定时间的访问次数】 例如3秒内访问10次，则提示访问频繁，并增加访问失败记录，累积请求失败十次则直接拉入黑名单【规则可自定义】
2.通过redis过期时间，可以存ip value存1（第1次访问计数），再通过redis追加incrBy---每次访问追加1次记录，超过十次则访问频繁......
3.每次从redis中读取是否有key ip缓存，是否已拉入黑名单:用户请求时redis 通过final修饰的字符串"D_B",key保存ip+D_B，为一个缓存标记，value存is_close.
4.通过springboot设置一个定时任务，例如每天凌晨定时清理白名单用户，当然这样的话 缓存key ip的时候，用总缓存时24小时-用户当前访问时间 = 实际缓存ip的过期时间，尽量保持与持久层数据的同步,或者是在定时任务触发时直接清理缓存亦可。
